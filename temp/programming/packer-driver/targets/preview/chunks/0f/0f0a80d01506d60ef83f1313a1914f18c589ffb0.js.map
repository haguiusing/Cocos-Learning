{"version":3,"sources":["file:///G:/CocosProjects/Cocos-Learning/assets/Scripts/Cocos%E5%9F%BA%E7%A1%80/%E8%84%9A%E6%9C%AC%E6%8C%87%E5%8D%97%E5%8F%8A%E4%BA%8B%E4%BB%B6%E6%9C%BA%E5%88%B6/%E8%84%9A%E6%9C%AC%E4%BD%BF%E7%94%A8/Lesson08_.ts"],"names":["_decorator","Component","ccclass","property","executionOrder","CompA","onLoad","console","log","start","update","dt","CompB","Configuration","init","updateConfig","Menu","updateMenu","GameData","updateData","Lesson08_","warn","deltaTime","demoAddRemove","myComp","node","addComponent","printNodeName","removeComponent","prototype","name"],"mappings":"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","sourcesContent":["// Lesson08_.ts\nimport { _decorator, Component, Node } from 'cc';\nconst { ccclass, property, executionOrder } = _decorator;\n\n/* ===================== 1. 定义演示组件 ===================== */\n\n//#region 1A. 通用演示组件 CompA\n@ccclass('CompA')\nexport class CompA extends Component {\n    onLoad ()  { console.log('CompA onLoad!');  }\n    start  ()  { console.log('CompA start!');   }\n    update (dt) { console.log('CompA update!');  }\n}\n//#endregion\n\n//#region 1B. 通用演示组件 CompB\n@ccclass('CompB')\nexport class CompB extends Component {\n    onLoad ()  { console.log('CompB onLoad!');  }\n    start  ()  { console.log('CompB start!');   }\n    update (dt) { console.log('CompB update!');  }\n}\n//#endregion\n\n//#region 1C. 高优先级组件 Configuration\n@ccclass('Configuration')\n@executionOrder(-1)   // 越小越先执行\nexport class Configuration extends Component {\n    onLoad () { console.log('Configuration onLoad!'); }\n    static init () { console.log('Configuration init()'); }\n    static updateConfig (dt) { console.log('Configuration updateConfig'); }\n}\n//#endregion\n\n//#region 1D. 低优先级组件 Menu\n@ccclass('Menu')\n@executionOrder(1)    // 越大越后执行\nexport class Menu extends Component {\n    onLoad () { console.log('Menu onLoad!'); }\n    static init () { console.log('Menu init()'); }\n    static updateMenu (dt) { console.log('Menu updateMenu'); }\n}\n//#endregion\n\n//#region 1E. 中间优先级组件 GameData\n@ccclass('GameData')\nexport class GameData extends Component {\n    static init () { console.log('GameData init()'); }\n    static updateData (dt) { console.log('GameData updateData'); }\n}\n//#endregion\n\n/* ===================== 2. 总控脚本 Lesson08_ ===================== */\n\n//#region 2A. 主控制脚本\n@ccclass('Lesson08_')\nexport class Lesson08_ extends Component {\n\n    /* -------------- 2A-1 生命周期 -------------- */\n    onLoad () {\n        console.warn('=== Lesson08_ onLoad ===');\n        // 统一初始化\n        Configuration.init();\n        GameData.init();\n        Menu.init();\n    }\n\n    update (deltaTime: number) {\n        // 统一更新顺序\n        Configuration.updateConfig(deltaTime);\n        GameData.updateData(deltaTime);\n        Menu.updateMenu(deltaTime);\n    }\n\n    /* -------------- 2A-2 动态增删组件演示 -------------- */\n    //#region 2A-2 动态增删组件\n    private demoAddRemove() {\n        // 正确：通过节点添加组件\n        const myComp = this.node.addComponent(CompA);\n        myComp.printNodeName?.();\n\n        // 移除（销毁）组件\n        this.node.removeComponent(myComp);\n    }\n    //#endregion\n\n    /* -------------- 2A-3 入口演示 -------------- */\n    protected start() {\n        this.demoAddRemove();\n    }\n}\n//#endregion\n\n/* ===================== 3. 工具方法（可选） ===================== */\n//#region 3. 工具方法\n// 提供 printNodeName 方法，用于动态测试\ndeclare module './Lesson08_' {\n    interface CompA {\n        printNodeName(): void;\n    }\n}\nCompA.prototype.printNodeName = function () {\n    console.log('My node name is:', this.node.name);\n};\n//#endregion"]}