{"version":3,"sources":["file:///G:/CocosProjects/Cocos-Learning/assets/Scripts/Cocos%E6%A0%B8%E5%BF%83/2D%20%E5%AF%B9%E8%B1%A1/UI%E7%B3%BB%E7%BB%9F/UI%E7%BB%84%E4%BB%B6/Lesson37_ScrollBar.ts"],"names":["_decorator","Component","ScrollBar","ScrollView","Sprite","log","ccclass","property","Lesson37_ScrollBar","type","getOrCreateScrollBar","sb","scrollBar","getComponent","addComponent","setDirection","direction","Direction","VERTICAL","setHandle","handleSprite","handle","toggleAutoHide","enableAutoHide","autoHideTime","hideNow","hide","showNow","show","bindToScrollView","scrollView","setScrollView","onLoad","start","scheduleOnce"],"mappings":"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","sourcesContent":["// Lesson37_ScrollBar.ts\n\nimport { _decorator, Component, ScrollBar, ScrollView, Sprite, Node, log } from 'cc';\nconst { ccclass, property } = _decorator;\n\n/**\n * Lesson37_ScrollBar\n * 演示 Cocos Creator 3.8 ScrollBar 组件的常见 API 用法\n * 按功能划分为不同折叠块，便于查阅\n */\n@ccclass('Lesson37_ScrollBar')\nexport class Lesson37_ScrollBar extends Component {\n\n    /* ========================= 1. 获取 ScrollBar 组件 ========================= */\n    // #region 获取 ScrollBar\n    @property({ type: ScrollBar })\n    scrollBar: ScrollBar | null = null;\n\n    /** 运行时获取或动态创建 ScrollBar 组件 */\n    getOrCreateScrollBar(): ScrollBar | null {\n        let sb = this.scrollBar ?? this.getComponent(ScrollBar);\n        if (!sb) {\n            sb = this.addComponent(ScrollBar);\n            log('动态添加 ScrollBar 组件');\n        }\n        return sb;\n    }\n    // #endregion\n\n    /* ========================= 2. 设置滚动方向 ========================= */\n    // #region 滚动方向\n    setDirection() {\n        const sb = this.getOrCreateScrollBar();\n        if (!sb) return;\n\n        // 垂直滚动\n        sb.direction = ScrollBar.Direction.VERTICAL;\n\n        // 水平滚动\n        // sb.direction = ScrollBar.Direction.HORIZONTAL;\n    }\n    // #endregion\n\n    /* ========================= 3. 设置滚动滑块 ========================= */\n    // #region 滚动滑块\n    @property({ type: Sprite })\n    handleSprite: Sprite | null = null;\n\n    setHandle() {\n        const sb = this.getOrCreateScrollBar();\n        if (!sb) return;\n\n        // 设置滑块节点（需挂载 Sprite）\n        if (this.handleSprite) {\n            sb.handle = this.handleSprite;\n        }\n    }\n    // #endregion\n\n    /* ========================= 4. 自动隐藏 ========================= */\n    // #region 自动隐藏\n    toggleAutoHide() {\n        const sb = this.getOrCreateScrollBar();\n        if (!sb) return;\n\n        sb.enableAutoHide = true;       // 开启自动隐藏\n        sb.autoHideTime = 2;            // 2 秒后隐藏\n    }\n\n    /** 立即隐藏 */\n    hideNow() {\n        const sb = this.getOrCreateScrollBar();\n        sb?.hide();\n    }\n\n    /** 立即显示 */\n    showNow() {\n        const sb = this.getOrCreateScrollBar();\n        sb?.show();\n    }\n    // #endregion\n\n    /* ========================= 5. 关联到 ScrollView ========================= */\n    // #region 关联 ScrollView\n    @property({ type: ScrollView })\n    scrollView: ScrollView | null = null;\n\n    bindToScrollView() {\n        const sb = this.getOrCreateScrollBar();\n        if (!sb || !this.scrollView) return;\n\n        // 将 ScrollBar 绑定到 ScrollView\n        sb.setScrollView(this.scrollView);\n    }\n    // #endregion\n\n    /* ========================= 6. 生命周期示例 ========================= */\n    // #region 生命周期\n    onLoad() {\n        this.setDirection();\n        this.setHandle();\n        this.toggleAutoHide();\n        this.bindToScrollView();\n    }\n\n    start() {\n        // 演示：5 秒后自动隐藏\n        this.scheduleOnce(() => this.hideNow(), 5);\n    }\n    // #endregion\n}"]}