{"version":3,"sources":["file:///G:/CocosProjects/Cocos-Learning/assets/Scripts/Cocos%E6%A0%B8%E5%BF%83/%E9%9F%B3%E9%A2%91%E7%B3%BB%E7%BB%9F/AudioController.ts"],"names":["_decorator","Component","AudioSource","assert","AudioMgr","ccclass","property","AudioController","onLoad","audioSource","node","getComponent","_audioSource","play","inst","clip","pause","playOneShot","stop","setVolume","volume","resume"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAiBC,MAAAA,W,OAAAA,W;AAAaC,MAAAA,M,OAAAA,M;;AAC1CC,MAAAA,Q,iBAAAA,Q;;;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBN,U;;iCAGjBO,e,WADZF,OAAO,CAAC,iBAAD,C,UAGHC,QAAQ,CAACJ,WAAD,C,2BAHb,MACaK,eADb,SACqCN,SADrC,CAC+C;AAAA;AAAA;;AAAA;AAAA;;AAK3CO,QAAAA,MAAM,GAAI;AACN;AACA,cAAMC,WAAW,GAAG,KAAKC,IAAL,CAAUC,YAAV,CAAuBT,WAAvB,CAApB,CAFM,CAGN;;AACAC,UAAAA,MAAM,CAACM,WAAW,IAAG,IAAf,CAAN,CAJM,CAKN;;AACA,eAAKG,YAAL,GAAoBH,WAApB;AACH;;AAEDI,QAAAA,IAAI,GAAI;AACJ;AAAA;AAAA,oCAASC,IAAT,CAAcD,IAAd,CAAmB,KAAKD,YAAL,CAAkBG,IAArC,EADI,CACwC;AAE5C;AACA;AACH;;AAEDC,QAAAA,KAAK,GAAI;AACL;AAAA;AAAA,oCAASF,IAAT,CAAcE,KAAd,GADK,CACkB;AAEvB;AACA;AACH;;AAEDC,QAAAA,WAAW,CAAEF,IAAF,EAAmB;AAC1B;AAAA;AAAA,oCAASD,IAAT,CAAcG,WAAd,CAA0BF,IAA1B,EAD0B,CACO;AACjC;AACH;;AAEDG,QAAAA,IAAI,GAAI;AACJ;AAAA;AAAA,oCAASJ,IAAT,CAAcI,IAAd,GADI,CACkB;AAEtB;AACA;AACH;;AAEDC,QAAAA,SAAS,CAAEC,MAAF,EAAkB;AACvB;AAAA;AAAA,oCAASN,IAAT,CAAcK,SAAd,CAAwBC,MAAxB,EADuB,CACU;AACpC;;AAEDC,QAAAA,MAAM,GAAI;AACN;AAAA;AAAA,oCAASP,IAAT,CAAcO,MAAd,GADM,CACkB;AAExB;AACA;AACH;;AAjD0C,O;;;;;iBAGR,I","sourcesContent":["import { _decorator, Component, Node, AudioSource, assert, AudioClip } from 'cc';\nimport { AudioMgr } from './AudioMgr';\nconst { ccclass, property } = _decorator;\n\n@ccclass(\"AudioController\")\nexport class AudioController extends Component { \n\n    @property(AudioSource)\n    public _audioSource: AudioSource = null!;\n\n    onLoad () {\n        // 获取 AudioSource 组件\n        const audioSource = this.node.getComponent(AudioSource)!;\n        // 检查是否含有 AudioSource，如果没有，则输出错误消息\n        assert(audioSource !=null);\n        // 将组件赋到全局变量 _audioSource 中\n        this._audioSource = audioSource;\n    }\n\n    play () {\n        AudioMgr.inst.play(this._audioSource.clip); // 播放音乐\n\n        // 播放音乐\n        //this._audioSource.play();\n    }\n\n    pause () {\n        AudioMgr.inst.pause(); // 暂停音乐\n\n        // 暂停音乐\n        //this._audioSource.pause();\n    }\n\n    playOneShot (clip: AudioClip) {\n        AudioMgr.inst.playOneShot(clip); // 播放音效\n        //this._audioSource.playOneShot(clip, 1);\n    }\n\n    stop () {\n        AudioMgr.inst.stop(); // 停止音乐\n\n        // 停止音乐\n        //this._audioSource.stop();\n    }\n\n    setVolume (volume: number) {\n        AudioMgr.inst.setVolume(volume); // 设置音量\n    }\n\n    resume () {\n        AudioMgr.inst.resume(); // 恢复音乐播放\n\n        // 恢复音乐播放\n        //this._audioSource.play();\n    }   \n}"]}