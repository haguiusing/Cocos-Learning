{"version":3,"sources":["file:///G:/CocosProjects/Cocos-Learning/assets/Scripts/Cocos%E6%A0%B8%E5%BF%83/2D%20%E5%AF%B9%E8%B1%A1/UI%E7%B3%BB%E7%BB%9F/UI%E7%BB%84%E4%BB%B6/Lesson52_VideoPlayer.ts"],"names":["_decorator","Component","VideoPlayer","EventHandler","ccclass","property","Lesson52_VideoPlayer","start","videoPlayer","node","getComponent","resourceType","ResourceType","REMOTE","remoteURL","playOnAwake","volume","mute","loop","keepAspectRatio","fullScreenOnAwake","stayOnBottom","console","log","onLoad","eventHandler","target","component","handler","customEventData","videoPlayerEvent","onVideoPlayerEvent","eventType","EventType","PLAYING","PAUSED","STOPPED","COMPLETED","META_LOADED","READY_TO_PLAY","ERROR","error","CLICKED","playVideo","play","pauseVideo","pause","stopVideo","stop","resumeVideo","resume","update","dt","currentTime","duration","isPlaying"],"mappings":"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","sourcesContent":["import { _decorator, Component, Node, VideoPlayer, EventHandler } from 'cc';\nconst { ccclass, property } = _decorator;\n\n@ccclass('Lesson52_VideoPlayer')\nexport class Lesson52_VideoPlayer extends Component {\n    //#region 初始化VideoPlayer\n    start() {\n        // 获取节点上的VideoPlayer组件\n        const videoPlayer = this.node.getComponent(VideoPlayer);\n        if (videoPlayer) {\n            // 设置视频来源为远程URL\n            videoPlayer.resourceType = VideoPlayer.ResourceType.REMOTE;\n            videoPlayer.remoteURL = 'https://www.example.com/video.mp4';\n\n            // 设置视频播放属性\n            videoPlayer.playOnAwake = true; // 自动播放\n            videoPlayer.volume = 0.5; // 设置音量\n            videoPlayer.mute = false; // 不静音\n            videoPlayer.loop = true; // 循环播放\n            videoPlayer.keepAspectRatio = true; // 保持宽高比\n            videoPlayer.fullScreenOnAwake = false; // 不全屏播放\n            videoPlayer.stayOnBottom = true; // 在Web平台上始终在底层\n\n            console.log('VideoPlayer初始化完成');\n        }\n    }\n    //#endregion\n\n    //#region 监听VideoPlayer事件\n    onLoad() {\n        // 获取节点上的VideoPlayer组件\n        const videoPlayer = this.node.getComponent(VideoPlayer);\n        if (videoPlayer) {\n            // 监听VideoPlayer事件\n            const eventHandler = new EventHandler();\n            eventHandler.target = this.node; // 事件处理代码组件所属的节点\n            eventHandler.component = \"Lesson52_VideoPlayer\";\n            eventHandler.handler = \"onVideoPlayerEvent\";\n            eventHandler.customEventData = \"videoPlayerEvent\";\n\n            videoPlayer.videoPlayerEvent = [eventHandler];\n        }\n    }\n\n    onVideoPlayerEvent(eventType: string, customEventData: string) {\n        switch (eventType) {\n            case VideoPlayer.EventType.PLAYING:\n                console.log('视频正在播放');\n                break;\n            case VideoPlayer.EventType.PAUSED:\n                console.log('视频暂停播放');\n                break;\n            case VideoPlayer.EventType.STOPPED:\n                console.log('视频停止播放');\n                break;\n            case VideoPlayer.EventType.COMPLETED:\n                console.log('视频播放完成');\n                break;\n            case VideoPlayer.EventType.META_LOADED:\n                console.log('视频元信息加载完成');\n                break;\n            case VideoPlayer.EventType.READY_TO_PLAY:\n                console.log('视频准备播放');\n                break;\n            case VideoPlayer.EventType.ERROR:\n                console.error('视频播放出错');\n                break;\n            case VideoPlayer.EventType.CLICKED:\n                console.log('视频被点击');\n                break;\n            default:\n                console.log('未知的VideoPlayer事件类型:', eventType);\n        }\n    }\n    //#endregion\n\n    //#region 控制VideoPlayer播放\n    playVideo() {\n        const videoPlayer = this.node.getComponent(VideoPlayer);\n        if (videoPlayer) {\n            videoPlayer.play();\n            console.log('视频开始播放');\n        }\n    }\n\n    pauseVideo() {\n        const videoPlayer = this.node.getComponent(VideoPlayer);\n        if (videoPlayer) {\n            videoPlayer.pause();\n            console.log('视频暂停播放');\n        }\n    }\n\n    stopVideo() {\n        const videoPlayer = this.node.getComponent(VideoPlayer);\n        if (videoPlayer) {\n            videoPlayer.stop();\n            console.log('视频停止播放');\n        }\n    }\n\n    resumeVideo() {\n        const videoPlayer = this.node.getComponent(VideoPlayer);\n        if (videoPlayer) {\n            videoPlayer.resume();\n            console.log('视频继续播放');\n        }\n    }\n    //#endregion\n\n    //#region 获取VideoPlayer状态\n    update(dt: number) {\n        const videoPlayer = this.node.getComponent(VideoPlayer);\n        if (videoPlayer) {\n            console.log('当前视频播放时间:', videoPlayer.currentTime);\n            console.log('视频总时长:', videoPlayer.duration);\n            console.log('视频是否正在播放:', videoPlayer.isPlaying);\n        }\n    }\n    //#endregion\n}"]}