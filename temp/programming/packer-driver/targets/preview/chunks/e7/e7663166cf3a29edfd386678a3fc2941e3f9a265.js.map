{"version":3,"sources":["file:///G:/CocosProjects/Cocos-Learning/assets/Scripts/Cocos%E6%A0%B8%E5%BF%83/2D%20%E5%AF%B9%E8%B1%A1/UI%E7%B3%BB%E7%BB%9F/UI%E7%BB%84%E4%BB%B6/Lesson45_PageViewIndicator.ts"],"names":["_decorator","Component","PageViewIndicator","PageView","Node","log","Size","ccclass","property","Lesson45_PageViewIndicator","type","getOrCreatePageViewIndicator","pvi","pageViewIndicator","getComponent","addComponent","setHorizontalDirection","direction","Direction","HORIZONTAL","setVerticalDirection","VERTICAL","setIndicatorStyle","setPageView","pageView","setSpacingAndSize","spacing","size","cellSize","onLoad","start","scheduleOnce"],"mappings":";;;;;;;;;;;;;;;;AAESA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,iB,OAAAA,iB;AAAmBC,MAAAA,Q,OAAAA,Q;AAAUC,MAAAA,I,OAAAA,I;AAAMC,MAAAA,G,OAAAA,G;AAAKC,MAAAA,I,OAAAA,I;;;;;kGAFxE;;;;;OAGM;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBR,U;AAE9B;AACA;AACA;AACA;AACA;;4CAEaS,0B,WADZF,OAAO,CAAC,4BAAD,C,UAKHC,QAAQ,CAAC;AAAEE,QAAAA,IAAI,EAAER;AAAR,OAAD,C,UAmCRM,QAAQ,CAAC;AAAEE,QAAAA,IAAI,EAAEN;AAAR,OAAD,C,UAkBRI,QAAQ,CAAC;AAAEE,QAAAA,IAAI,EAAEP;AAAR,OAAD,C,2BA1Db,MACaM,0BADb,SACgDR,SADhD,CAC0D;AAAA;AAAA;;AAEtD;AACA;AAHsD;;AAmCtD;;AAEA;AACA;AAtCsD;;AAqDtD;;AAEA;AACA;AAxDsD;AAAA;;AAOtD;AACAU,QAAAA,4BAA4B,GAA6B;AAAA;;AACrD,cAAIC,GAAG,4BAAG,KAAKC,iBAAR,oCAA6B,KAAKC,YAAL,CAAkBZ,iBAAlB,CAApC;;AACA,cAAI,CAACU,GAAL,EAAU;AACNA,YAAAA,GAAG,GAAG,KAAKG,YAAL,CAAkBb,iBAAlB,CAAN;AACAG,YAAAA,GAAG,CAAC,2BAAD,CAAH;AACH;;AACD,iBAAOO,GAAP;AACH,SAfqD,CAgBtD;;AAEA;AACA;;;AACAI,QAAAA,sBAAsB,GAAG;AACrB,cAAMJ,GAAG,GAAG,KAAKD,4BAAL,EAAZ;AACA,cAAI,CAACC,GAAL,EAAU;AAEVA,UAAAA,GAAG,CAACK,SAAJ,GAAgBf,iBAAiB,CAACgB,SAAlB,CAA4BC,UAA5C;AACAd,UAAAA,GAAG,CAAC,aAAD,CAAH;AACH;;AAEDe,QAAAA,oBAAoB,GAAG;AACnB,cAAMR,GAAG,GAAG,KAAKD,4BAAL,EAAZ;AACA,cAAI,CAACC,GAAL,EAAU;AAEVA,UAAAA,GAAG,CAACK,SAAJ,GAAgBf,iBAAiB,CAACgB,SAAlB,CAA4BG,QAA5C;AACAhB,UAAAA,GAAG,CAAC,aAAD,CAAH;AACH;;AAQDiB,QAAAA,iBAAiB,GAAG,CAChB;AACA;AAEA;AACA;AAEA;AACA;AACA;AACH;;AAQDC,QAAAA,WAAW,GAAG;AACV,cAAMX,GAAG,GAAG,KAAKD,4BAAL,EAAZ;AACA,cAAI,CAACC,GAAD,IAAQ,CAAC,KAAKY,QAAlB,EAA4B;AAE5BZ,UAAAA,GAAG,CAACW,WAAJ,CAAgB,KAAKC,QAArB;AACAnB,UAAAA,GAAG,CAAC,SAAD,CAAH;AACH,SAlEqD,CAmEtD;;AAEA;AACA;;;AACAoB,QAAAA,iBAAiB,CAACC,OAAD,EAAkBC,IAAlB,EAAgC;AAC7C,cAAMf,GAAG,GAAG,KAAKD,4BAAL,EAAZ;AACA,cAAI,CAACC,GAAL,EAAU;AAEVA,UAAAA,GAAG,CAACc,OAAJ,GAAcA,OAAd,CAJ6C,CAItB;;AACvBd,UAAAA,GAAG,CAACgB,QAAJ,GAAe,IAAItB,IAAJ,CAASqB,IAAT,EAAeA,IAAf,CAAf,CAL6C,CAKR;;AACrCtB,UAAAA,GAAG,sCAAWqB,OAAX,wBAA2BC,IAA3B,CAAH;AACH,SA9EqD,CA+EtD;;AAEA;AACA;;;AACAE,QAAAA,MAAM,GAAG;AACL,eAAKb,sBAAL,GADK,CAC0B;;AAC/B,eAAKS,iBAAL,CAAuB,EAAvB,EAA2B,EAA3B,EAFK,CAE2B;;AAChC,eAAKF,WAAL,GAHK,CAG0B;AAClC;;AAEDO,QAAAA,KAAK,GAAG;AACJ;AACA,eAAKC,YAAL,CAAkB,MAAM,KAAKT,iBAAL,EAAxB,EAAkD,CAAlD;AACH,SA5FqD,CA6FtD;;;AA7FsD,O;;;;;iBAKR,I;;;;;;;iBAmCX,I;;;;;;;iBAkBP,I","sourcesContent":["// Lesson45_PageViewIndicator.ts\n\nimport { _decorator, Component, PageViewIndicator, PageView, Node, log, Size } from 'cc';\nconst { ccclass, property } = _decorator;\n\n/**\n * Lesson45_PageViewIndicator\n * 演示 Cocos Creator 3.8 PageViewIndicator 组件的常见 API 用法\n * 按功能划分为不同折叠块，便于查阅\n */\n@ccclass('Lesson45_PageViewIndicator')\nexport class Lesson45_PageViewIndicator extends Component {\n\n    /* ========================= 1. 获取/创建 PageViewIndicator 组件 ========================= */\n    // #region 获取/创建 PageViewIndicator\n    @property({ type: PageViewIndicator })\n    pageViewIndicator: PageViewIndicator | null = null;\n\n    /** 运行时动态创建或获取 PageViewIndicator 组件 */\n    getOrCreatePageViewIndicator(): PageViewIndicator | null {\n        let pvi = this.pageViewIndicator ?? this.getComponent(PageViewIndicator);\n        if (!pvi) {\n            pvi = this.addComponent(PageViewIndicator);\n            log('动态添加 PageViewIndicator 组件');\n        }\n        return pvi;\n    }\n    // #endregion\n\n    /* ========================= 2. 设置指示器方向 ========================= */\n    // #region 设置指示器方向\n    setHorizontalDirection() {\n        const pvi = this.getOrCreatePageViewIndicator();\n        if (!pvi) return;\n\n        pvi.direction = PageViewIndicator.Direction.HORIZONTAL;\n        log('指示器方向已设置为水平');\n    }\n\n    setVerticalDirection() {\n        const pvi = this.getOrCreatePageViewIndicator();\n        if (!pvi) return;\n\n        pvi.direction = PageViewIndicator.Direction.VERTICAL;\n        log('指示器方向已设置为垂直');\n    }\n    // #endregion\n\n    /* ========================= 3. 设置指示器样式 ========================= */\n    // #region 设置指示器样式\n    @property({ type: Node })\n    indicatorNodePrefab: Node | null = null;\n\n    setIndicatorStyle() {\n        //源码是通过创建Node实现，\n        //所以无法通过自定义指示器节点的 Prefab 设置IndicatorStyle\n\n        // const pvi = this.getOrCreatePageViewIndicator();\n        // if (!pvi || !this.indicatorNodePrefab) return;\n\n        // // 设置指示器节点的 Prefab\n        // pvi.indicatorNodePrefab = this.indicatorNodePrefab;\n        // log('指示器样式已设置');\n    }\n    // #endregion\n\n    /* ========================= 4. 设置页面视图 ========================= */\n    // #region 设置页面视图\n    @property({ type: PageView })\n    pageView: PageView | null = null;\n\n    setPageView() {\n        const pvi = this.getOrCreatePageViewIndicator();\n        if (!pvi || !this.pageView) return;\n\n        pvi.setPageView(this.pageView);\n        log('页面视图已设置');\n    }\n    // #endregion\n\n    /* ========================= 5. 设置指示器间距与大小 ========================= */\n    // #region 设置指示器间距与大小\n    setSpacingAndSize(spacing: number, size: number) {\n        const pvi = this.getOrCreatePageViewIndicator();\n        if (!pvi) return;\n\n        pvi.spacing = spacing; // 设置指示器间距\n        pvi.cellSize = new Size(size, size); // 设置指示器大小\n        log(`指示器间距: ${spacing}, 大小: ${size}`);\n    }\n    // #endregion\n\n    /* ========================= 6. 生命周期示例 ========================= */\n    // #region 生命周期\n    onLoad() {\n        this.setHorizontalDirection(); // 设置为水平方向\n        this.setSpacingAndSize(10, 20); // 设置间距为 10，大小为 20\n        this.setPageView();            // 关联 PageView\n    }\n\n    start() {\n        // 演示：3 秒后更新指示器样式\n        this.scheduleOnce(() => this.setIndicatorStyle(), 3);\n    }\n    // #endregion\n}"]}