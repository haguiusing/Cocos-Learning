{"version":3,"sources":["file:///G:/CocosProjects/Cocos-Learning/assets/Scripts/Cocos%E6%A0%B8%E5%BF%83/2D%20%E5%AF%B9%E8%B1%A1/UI%E7%B3%BB%E7%BB%9F/UI%E7%BB%84%E4%BB%B6/Lesson39_LabelOutline.ts"],"names":["_decorator","Component","LabelOutline","Label","Color","log","ccclass","property","Lesson39_LabelOutline","type","tooltip","getOrCreateLabelOutline","ol","labelOutline","getComponent","addComponent","setByLabelOutline","width","color","BLACK","setByLabelEnableOutline","lbl","label","enableOutline","outlineColor","RED","outlineWidth","disableOutline","toggleOutlineStyle","equals","GREEN","Math","random","onLoad","start","scheduleOnce"],"mappings":"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","sourcesContent":["// Lesson39_LabelOutline.ts\n\nimport { _decorator, Component, LabelOutline, Label, Color, log } from 'cc';\nconst { ccclass, property } = _decorator;\n\n/**\n * Lesson39_LabelOutline\n * 演示 Cocos Creator 3.8 **LabelOutline** 组件的常见 API 用法\n * ⚠️ 注意：LabelOutline 自 v3.8.2 起已废弃，请改用 Label.enableOutline。\n * 本脚本同时给出新旧两种写法，方便迁移。\n */\n@ccclass('Lesson39_LabelOutline')\nexport class Lesson39_LabelOutline extends Component {\n\n    /* ========================= 1. 获取/创建 LabelOutline（旧写法） ========================= */\n    // #region 获取/创建 LabelOutline\n    @property({ type: LabelOutline, tooltip: '已废弃，仅作演示' })\n    labelOutline: LabelOutline | null = null;\n\n    /** 运行时动态创建 LabelOutline（旧写法） */\n    getOrCreateLabelOutline(): LabelOutline | null {\n        let ol = this.labelOutline ?? this.getComponent(LabelOutline);\n        if (!ol) {\n            ol = this.addComponent(LabelOutline);\n            log('动态添加 LabelOutline 组件（已废弃）');\n        }\n        return ol;\n    }\n    // #endregion\n\n    /* ========================= 2. 旧 API 设置描边宽度与颜色 ========================= */\n    // #region 旧 API 设置\n    /** 使用已废弃的 LabelOutline 设置描边 */\n    setByLabelOutline() {\n        const ol = this.getOrCreateLabelOutline();\n        if (!ol) return;\n\n        // 已废弃的属性\n        ol.width = 3;                   // 描边宽度\n        ol.color = Color.BLACK;         // 描边颜色\n        log('通过 LabelOutline 设置描边（已废弃）');\n    }\n    // #endregion\n\n    /* ========================= 3. 新 API：使用 Label.enableOutline ========================= */\n    // #region 新 API 设置\n    @property({ type: Label })\n    label: Label | null = null;\n\n    /** 通过 Label.enableOutline 设置描边（推荐） */\n    setByLabelEnableOutline() {\n        const lbl = this.label ?? this.getComponent(Label);\n        if (!lbl) return;\n\n        lbl.enableOutline = true;                // 开启描边\n        lbl.outlineColor = Color.RED;            // 描边颜色\n        lbl.outlineWidth = 4;                    // 描边宽度\n        log('通过 Label.enableOutline 设置描边（推荐）');\n    }\n\n    /** 关闭描边 */\n    disableOutline() {\n        const lbl = this.label ?? this.getComponent(Label);\n        if (lbl) lbl.enableOutline = false;\n    }\n    // #endregion\n\n    /* ========================= 4. 动态切换描边样式 ========================= */\n    // #region 动态切换\n    toggleOutlineStyle() {\n        const lbl = this.label ?? this.getComponent(Label);\n        if (!lbl) return;\n\n        // 每次点击切换不同颜色\n        if (lbl.enableOutline) {\n            lbl.outlineColor = lbl.outlineColor.equals(Color.RED) ? Color.GREEN : Color.RED;\n            lbl.outlineWidth = Math.random() * 5 + 1;\n        } else {\n            this.setByLabelEnableOutline();\n        }\n    }\n    // #endregion\n\n    /* ========================= 5. 生命周期示例 ========================= */\n    // #region 生命周期\n    onLoad() {\n        // 旧写法（兼容老项目）\n        this.setByLabelOutline();\n\n        // 新写法（推荐）\n        this.setByLabelEnableOutline();\n    }\n\n    start() {\n        // 演示：2 秒后切换一次描边样式\n        this.scheduleOnce(() => this.toggleOutlineStyle(), 2);\n    }\n    // #endregion\n}"]}