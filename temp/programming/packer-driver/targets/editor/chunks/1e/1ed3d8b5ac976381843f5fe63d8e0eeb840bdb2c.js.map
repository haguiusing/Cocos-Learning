{"version":3,"sources":["file:///G:/CocosProjects/Cocos-Learning/assets/Scripts/Cocos%E6%A0%B8%E5%BF%83/2D%20%E5%AF%B9%E8%B1%A1/2D%20%E6%B8%B2%E6%9F%93/Lesson28_.ts"],"names":["_decorator","Component","TiledTile","log","ccclass","property","Lesson28_","setTilePos","x","y","tile","setTileGID","gid","grid","refreshTile","updateInfo","start"],"mappings":";;;;;;;;;;;;;;;;AACSA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,S,OAAAA,S;AAAsBC,MAAAA,G,OAAAA,G;;;;;iFADtD;;;;;OAEM;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBL,U;AAE9B;AACA;AACA;AACA;;2BAEaM,S,WADZF,OAAO,CAAC,WAAD,C,UAKHC,QAAQ,CAACH,SAAD,C,2BALb,MACaI,SADb,SAC+BL,SAD/B,CACyC;AAAA;AAAA;;AAErC;AACA;AAHqC;AAAA;;AAMrC;;AAEA;AACA;AACQM,QAAAA,UAAU,CAACC,CAAD,EAAYC,CAAZ,EAAuB;AACrC,eAAKC,IAAL,CAAUF,CAAV,GAAcA,CAAd;AACA,eAAKE,IAAL,CAAUD,CAAV,GAAcA,CAAd;AACAN,UAAAA,GAAG,CAAE,cAAaK,CAAE,KAAIC,CAAE,GAAvB,CAAH;AACH,SAdoC,CAerC;;AAEA;AACA;;;AACQE,QAAAA,UAAU,CAACC,GAAD,EAAc;AAC5B,eAAKF,IAAL,CAAUG,IAAV,GAAiBD,GAAjB;AACAT,UAAAA,GAAG,CAAE,eAAcS,GAAI,EAApB,CAAH;AACH,SAtBoC,CAuBrC;;AAEA;AACA;;;AACQE,QAAAA,WAAW,GAAG;AAClB,eAAKJ,IAAL,CAAUK,UAAV;AACAZ,UAAAA,GAAG,CAAC,YAAD,CAAH;AACH,SA9BoC,CA+BrC;;AAEA;AACA;;;AACUa,QAAAA,KAAK,GAAG;AACd,cAAI,CAAC,KAAKN,IAAV,EAAgB;AACZP,YAAAA,GAAG,CAAC,0BAAD,CAAH;AACA;AACH,WAJa,CAMd;;;AACA,eAAKI,UAAL,CAAgB,CAAhB,EAAmB,CAAnB;AACA,eAAKI,UAAL,CAAgB,CAAhB;AACA,eAAKG,WAAL;AACH,SA7CoC,CA8CrC;;;AA9CqC,O;;;;;iBAKnB,I","sourcesContent":["// Lesson28_.ts\r\nimport { _decorator, Component, TiledTile, resources, log } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n/**\r\n * TiledTile（单块瓦片）API 全功能演示\r\n * 核心类：Lesson28_\r\n */\r\n@ccclass('Lesson28_')\r\nexport class Lesson28_ extends Component {\r\n\r\n    /* ------------------ 1. 组件声明 ------------------ */\r\n    //#region 1. 组件声明\r\n    @property(TiledTile)\r\n    tile: TiledTile = null!;\r\n    //#endregion\r\n\r\n    /* ------------------ 2. 设置/读取坐标 ------------------ */\r\n    //#region 2. 坐标\r\n    private setTilePos(x: number, y: number) {\r\n        this.tile.x = x;\r\n        this.tile.y = y;\r\n        log(`Tile 坐标设为 (${x}, ${y})`);\r\n    }\r\n    //#endregion\r\n\r\n    /* ------------------ 3. 设置/读取 GID ------------------ */\r\n    //#region 3. GID\r\n    private setTileGID(gid: number) {\r\n        this.tile.grid = gid;\r\n        log(`Tile GID 设为 ${gid}`);\r\n    }\r\n    //#endregion\r\n\r\n    /* ------------------ 4. 动态刷新瓦片信息 ------------------ */\r\n    //#region 4. 刷新\r\n    private refreshTile() {\r\n        this.tile.updateInfo();\r\n        log('Tile 信息已更新');\r\n    }\r\n    //#endregion\r\n\r\n    /* ------------------ 5. 生命周期：初始化 & 演示 ------------------ */\r\n    //#region 5. 生命周期\r\n    protected start() {\r\n        if (!this.tile) {\r\n            log('请先在编辑器里把 TiledTile 拖到属性中');\r\n            return;\r\n        }\r\n\r\n        // 演示：把瓦片移动到 (3, 2) 并切换成第 5 个图块\r\n        this.setTilePos(3, 2);\r\n        this.setTileGID(5);\r\n        this.refreshTile();\r\n    }\r\n    //#endregion\r\n}"]}